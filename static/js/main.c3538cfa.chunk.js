(this["webpackJsonpmelo-d"]=this["webpackJsonpmelo-d"]||[]).push([[0],{21:function(e,t,a){e.exports=a(71)},26:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),s=a.n(c);a(26);var o=function(){return r.a.createElement("header",{className:"container"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Melo D"),r.a.createElement("p",null,"Shazam/Genius Search API")),r.a.createElement("div",{className:"credentials"},r.a.createElement("h5",null,"by ",r.a.createElement("a",{href:"https://github.com/dsijakovski98"},"\u0414\u0430\u043d\u0438\u0435\u043b \u0428\u0438\u0458\u0430\u043a\u043e\u0432\u0441\u043a\u0438"))))},l=a(3),i=a(18),u=a(20),m=a(6),d=a.n(m),p={"x-rapidapi-host":"shazam.p.rapidapi.com","x-rapidapi-key":"f18c0d9b6emsh00da8fe2afa4fb2p14ba5ajsn903cb12bc77d",useQueryString:!0},f={"x-rapidapi-host":"genius.p.rapidapi.com","x-rapidapi-key":"f18c0d9b6emsh00da8fe2afa4fb2p14ba5ajsn903cb12bc77d"};var h=function(e){var t=e.track,a=e.setTooltip;return r.a.createElement("div",{className:"song-card",key:t.id},r.a.createElement("div",{className:"song-img"},r.a.createElement("a",{onMouseOver:function(){return a(!0)},onMouseOut:function(){return a(!1)},href:t.primary_artist.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:t.header_image_url,alt:""}))),r.a.createElement("div",{className:"song-info"},r.a.createElement("div",{className:"song-info-text"},r.a.createElement("h2",null,t.title),r.a.createElement("p",null,t.full_title)),r.a.createElement("div",{className:"get-info-btn"},r.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("button",null,"Lyrics")))))};var b=function(e){var t=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),o=Object(l.a)(s,2),i=o[0],u=o[1];return Object(n.useEffect)((function(){d()({method:"GET",url:"https://genius.p.rapidapi.com/search",headers:f,params:{q:e}}).then((function(e){e.data&&(c(e.data.response.hits),u(!0))}))}),[e]),[i,r]}(e.search),a=Object(l.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(!1),m=Object(l.a)(o,2),p=m[0],b=m[1],E={display:p?"block":"none",background:"white",borderRadius:"5px",cursor:"pointer",padding:"0.5em",zIndex:"3"};return r.a.createElement("div",{className:"songs-list"},c?"":r.a.createElement(i.ScaleLoader,{height:"50px",width:"6px",radius:"6px",margin:"3px",color:"royalblue"}),s?s.map((function(e){return r.a.createElement(h,{track:e.result,setTooltip:b})})):"",r.a.createElement(u.a,{visible:p,style:E,offsetY:10},r.a.createElement("span",null,"Artist info")))},E=function(e){var t=Object(n.useState)(),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t={locale:"en-US",term:e};""!==e?d()({method:"GET",url:"https://shazam.p.rapidapi.com/auto-complete",headers:p,params:t}).then((function(e){e&&e.data&&c(e.data.hints)})).catch((function(e){console.log(e)})):c([])}),[e]),[r,c]};var v=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),o=Object(l.a)(s,2),i=o[0],u=o[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),p=d[0],f=d[1],h=Object(n.useRef)(null),v=E(a),g=Object(l.a)(v,2),j=g[0],O=g[1];Object(n.useEffect)((function(){return document.addEventListener("mousedown",N),function(){document.removeEventListener("mousedown",N)}}),[]);var N=function(e){var t=h.current;t&&!t.contains(e.target)&&f(!1)};return r.a.createElement("div",{className:"search-bar-container"},r.a.createElement("form",{autoComplete:"off",className:"search-bar-form",onSubmit:function(e){e.preventDefault(),u(a),f(!1)}},r.a.createElement("div",{className:"suggestions-wrapper"},r.a.createElement("label",{className:"search-label"},"Search"),r.a.createElement("input",{type:"text",name:"search",className:"search-bar-input",placeholder:"Artist name",value:a,onFocus:function(){f(!0)},onChange:function(e){f(!0),c(e.target.value)}}),p&&r.a.createElement("div",{ref:h,className:"suggestions-list"},j?j.map((function(e,t){return r.a.createElement("li",{className:"suggestion",key:t,onClick:function(e){c(e.target.textContent),O([])}},e.term)})):"")),r.a.createElement("div",{className:"btn-wrap"},r.a.createElement("button",{type:"submit",className:"search-bar-submit-btn"},"Search"))),i&&r.a.createElement(b,{search:i}))};var g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o,null),r.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.c3538cfa.chunk.js.map